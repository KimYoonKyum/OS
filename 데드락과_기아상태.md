## 데드락과 기아상태

* **데드락**(교착상태)?
  - 한정된 자원을 여러 프로세스가 동시에 사용하고자 할때, 서로 원하는 자원을 얻지 못하고 계속 상대방의 작업이 끝나기만 무한정 기다리는 상태.
  - ex) **철학자들의 만찬 문제**.  
    포크 2개로 원형 식사시 동시에 식사는 2명만 가능하고, 운이 좋으면 철학자들이 식사와 사색을 번갈아가며 가능.   
    하지만 모두다 하나씩 포크를 들고 식사를 시도하면 데드락 상태에 빠짐.(3-2학기 과제 생각해보기)
  - **데드락의 발생 조건**
    + 상호 배제 : 한 프로세스만이 자원을 사용할 수 있다.
    + 점유 대기 : 최소한 하나의 자원을 점유하고 있으면서, 다른 프로세스에 할당되어 있는 자원을 추가로 점유하기 위해 대기하는 프로세스가 있어야 한다.
    + 비선점 : 다른 프로세스에 할당되어 있는 자원은 사용이 끝날 때까지 강제로 뺴앗을 수 없다.
    + 순환대기 : 순차적으로 자원을 대기한다. 프로세스 집합 {P1 ~Pn}에서 Pn-1은 Pn이 점유한 작업을 대기한다. 즉 프로세스간 자원 요구가 하나의 원형을 형성.
  
* 기아상태
  - 특정 프로세스가 자원을 할당받기 위해 무한정으로 대기하고 있는 상태. 
  - 발생 원인은 자원의 편중된 분배 정책. ex) SJF
  - 해결 방법은 에이징 기법.
  
## 데드락 대처 방법

* 예방 및 회피
  - 예방(주로 환형대기 부정 방법을 사용한다고 한다.)
    + 상호 배제 부정 : 여러개의 프로세스가 공유자원을 사용할 수 있게한다.
    + 점유 대기 부정 : 프로세스가 실행되기 전에 모든 자원 할당.
    + 비선점 부정 : 자원 임시 할당해제 및 원상복구
    + 환형 대기 부정 : 자원에 고유 번호로 할당하고, 번호 순서대로 자원을 요구한다.
  - 회피
    + 교착상태가 발생할 것 같으면, 회피하도록 하는 방법
    + 은행가 알고리즘(모든 고객의 요구가 충족 되도록 현금 할당 문제)
    + 자원 요청할때, 시스템이 자원 할당 후에도 안정상태인지 체크하여 할당 or 거부
* 탐지 및 회복
  - 탐지
    + 자원할당그래프로 교착상태 검증, 교착상태가 발결되면 자원할당한 것 소거한다.
  - 회복
    + 교착상태를 일으킨 프로세스를 종료하거나, 할당된 자원을 해제함으로써 회복을 의미.
  
* 무시
  - 자주 발생하지 않는 현상이라 위 방법들 없이 무시
